/**
 * è‡ªåŠ¨å›žå¤é…ç½®
 * æ·»åŠ ä½ çš„å…³é”®è¯å’Œå›žå¤å†…å®¹
 */
const autoReplyRules = [
  {
    keywords: ['ä½ å¥½', 'hello', 'hi', 'æ‚¨å¥½', 'åœ¨å—', 'æœ‰äººå—'],
    reply: 'ðŸ‘‹ æ‚¨å¥½ï¼æ¬¢è¿Žè”ç³»åœ¨çº¿å®¢æœï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ'
  },
  {
    keywords: ['ä»·æ ¼', 'å¤šå°‘é’±', 'è´¹ç”¨', 'æŠ¥ä»·', 'è´µ'],
    reply: 'ðŸ’° å…³äºŽä»·æ ¼é—®é¢˜ï¼Œè¯·å‘Šè¯‰æˆ‘æ‚¨éœ€è¦çš„å…·ä½“æœåŠ¡æˆ–äº§å“ï¼Œæˆ‘ä¼šä¸ºæ‚¨è¯¦ç»†ä»‹ç»ã€‚'
  },
  {
    keywords: ['å·¥ä½œæ—¶é—´', 'è¥ä¸šæ—¶é—´', 'å‡ ç‚¹', 'ä¸Šç­'],
    reply: 'ðŸ• æˆ‘ä»¬çš„å·¥ä½œæ—¶é—´æ˜¯æ¯å¤© 9:00-21:00ï¼Œå¦‚æœ‰ç´§æ€¥é—®é¢˜è¯·ç•™è¨€ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å›žå¤ã€‚'
  },
  {
    keywords: ['è”ç³»', 'ç”µè¯', 'å¾®ä¿¡', 'é‚®ç®±', 'åœ°å€'],
    reply: 'ðŸ“ž æ‚¨å¯ä»¥é€šè¿‡æ­¤å®¢æœç³»ç»Ÿç›´æŽ¥ä¸Žæˆ‘ä»¬æ²Ÿé€šï¼Œæˆ‘ä»¬ä¼šåŠæ—¶å›žå¤æ‚¨çš„æ¶ˆæ¯ã€‚'
  },
  {
    keywords: ['å†è§', 'æ‹œæ‹œ', 'bye', 'èµ°äº†', 'å…ˆè¿™æ ·'],
    reply: 'ðŸ‘‹ æ„Ÿè°¢æ‚¨çš„å’¨è¯¢ï¼Œå¦‚æœ‰ä»»ä½•é—®é¢˜æ¬¢è¿Žéšæ—¶è”ç³»æˆ‘ä»¬ï¼ç¥æ‚¨ç”Ÿæ´»æ„‰å¿«ï¼'
  },
  {
    keywords: ['è°¢è°¢', 'æ„Ÿè°¢', 'thank', 'thanks'],
    reply: 'ðŸ˜Š ä¸å®¢æ°”ï¼è¿™æ˜¯æˆ‘ä»¬åº”è¯¥åšçš„ï¼Œè¿˜æœ‰å…¶ä»–é—®é¢˜å—ï¼Ÿ'
  },
  {
    keywords: ['é—®é¢˜', 'éº»çƒ¦', 'æ•…éšœ', 'åäº†', 'ä¸è¡Œ'],
    reply: 'ðŸ˜Ÿ å¾ˆæŠ±æ­‰ç»™æ‚¨å¸¦æ¥ä¸ä¾¿ï¼Œè¯·è¯¦ç»†æè¿°æ‚¨é‡åˆ°çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šç«‹å³å¸®æ‚¨å¤„ç†ã€‚'
  },
  {
    keywords: ['å‘è´§', 'å¿«é€’', 'ç‰©æµ', 'é…é€'],
    reply: 'ðŸ“¦ æˆ‘ä»¬ä¸€èˆ¬åœ¨ä»˜æ¬¾åŽ 24-48 å°æ—¶å†…å‘è´§ï¼Œå…·ä½“ç‰©æµä¿¡æ¯ä¼šåœ¨å‘è´§åŽé€šçŸ¥æ‚¨ã€‚'
  },
  {
    keywords: ['é€€æ¬¾', 'é€€è´§', 'é€€æ¢'],
    reply: 'ðŸ’¸ å¦‚éœ€é€€æ¬¾æˆ–é€€è´§ï¼Œè¯·æä¾›æ‚¨çš„è®¢å•å·ï¼Œæˆ‘ä»¬ä¼šä¸ºæ‚¨å¤„ç†ã€‚'
  },
  {
    keywords: ['ä¼˜æƒ ', 'æŠ˜æ‰£', 'æ´»åŠ¨', 'ä¿ƒé”€'],
    reply: 'ðŸŽ è¯·å…³æ³¨æˆ‘ä»¬çš„å®˜æ–¹æ¸ é“èŽ·å–æœ€æ–°ä¼˜æƒ ä¿¡æ¯ï¼Œæˆ–å‘Šè¯‰æˆ‘æ‚¨æ„Ÿå…´è¶£çš„äº§å“ï¼Œæˆ‘å¸®æ‚¨æŸ¥è¯¢ã€‚'
  }
];

/**
 * æ£€æŸ¥æ¶ˆæ¯æ˜¯å¦åŒ¹é…è‡ªåŠ¨å›žå¤è§„åˆ™
 * @param {string} message - ç”¨æˆ·æ¶ˆæ¯
 * @returns {string|null} - åŒ¹é…çš„å›žå¤å†…å®¹ï¼Œæ— åŒ¹é…è¿”å›ž null
 */
function checkAutoReply(message) {
  if (!message) return null;
  
  const lowerMsg = message.toLowerCase();
  
  for (const rule of autoReplyRules) {
    for (const keyword of rule.keywords) {
      if (lowerMsg.includes(keyword.toLowerCase())) {
        console.log(`ðŸ¤– è‡ªåŠ¨å›žå¤åŒ¹é…ï¼š"${keyword}" -> "${rule.reply}"`);
        return rule.reply;
      }
    }
  }
  
  return null;
}

module.exports = {
  autoReplyRules,
  checkAutoReply
};
