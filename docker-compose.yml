version: '3.8'

services:
  chatkefu:
    build:
      context: ./backend
      dockerfile: Dockerfile
    container_name: chatkefu
    restart: unless-stopped
    ports:
      - "${PORT:-3000}:3000"
    environment:
      - TG_BOT_TOKEN=${TG_BOT_TOKEN}
      - PORT=3000
      - SESSION_EXPIRY_DAYS=${SESSION_EXPIRY_DAYS:-7}
      - MAX_FILE_SIZE_MB=${MAX_FILE_SIZE_MB:-20}
    volumes:
      - ./backend/storage:/app/storage
    networks:
      - chatkefu-network

networks:
  chatkefu-network:
    driver: bridge
